(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{411:function(e,a,t){Promise.resolve().then(t.bind(t,3564))},8226:function(e,a,t){"use strict";t.d(a,{I8:function(){return s},tO:function(){return c}});var n=t(5236),o=t(5186),i=t(9854),l=t(9842);let r=(0,n.ZF)({apiKey:"AIzaSyBcjtK4zhj40vI9Z3SXjCYKeDYHGrrbcrA",authDomain:"sonae-gallery.firebaseapp.com",projectId:"sonae-gallery",storageBucket:"sonae-gallery.appspot.com",messagingSenderId:"51846747087",appId:"1:51846747087:web:a968821eca621d3bbcf8ba"}),s=(0,o.v0)(r),c=(0,i.cF)(r);(0,l.ad)(r)},3564:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return x}});var n=t(7437),o=t(2265),i=t(5186),l=t(6463),r=t(7206),s=t(9671),c=t.n(s),d=t(9854),g=t(8226),p=t(3710),_=t(9315),u=t.n(_),m=t(7170),h=t(4413),A=t(7840),x=()=>{let[e,a]=(0,o.useState)(null),[t,s]=(0,o.useState)(!0),[_,x]=(0,o.useState)(!1),[y,v]=(0,o.useState)(!1),[b,j]=(0,o.useState)([]),[w,f]=(0,o.useState)(0),[C,E]=(0,o.useState)(!1),[N,I]=(0,o.useState)(!1),[S,B]=(0,o.useState)(null),L=(0,o.useRef)(null),k=(0,o.useRef)(null),O=(0,l.useRouter)();(0,o.useEffect)(()=>{let e=(0,i.v0)(),t=(0,i.Aj)(e,e=>{e?a(e):O.push("/login"),s(!1)});return()=>t()},[O]),(0,o.useEffect)(()=>{(async()=>{x(!0);let e=(0,d.iH)(g.tO,"galeria/"),a=await (0,d.aF)(e);j(await Promise.all(a.items.map(e=>(0,d.Jt)(e)))),x(!1)})()},[]);let D=()=>{20*w>=b.length||(x(!0),setTimeout(()=>{f(e=>e+1),x(!1)},1e3))};(0,o.useEffect)(()=>{let e=L.current,a=new IntersectionObserver(e=>{e[0].isIntersecting&&D()},{threshold:1});return e&&a.observe(e),()=>{e&&a.unobserve(e)}},[L,b]);let R=async()=>{v(!0);let e=new(u()),a=e.folder("galeria-download");try{let t=b.map(async(e,t)=>{let n=await fetch(e),o=await n.blob();null==a||a.file("image_".concat(t,".jpg"),o)});await Promise.all(t),e.generateAsync({type:"blob"}).then(e=>{(0,m.saveAs)(e,"galeria.zip"),v(!1)})}catch(e){console.error("Erro ao fazer o download do \xe1lbum:",e),v(!1)}},U=e=>{B(e),I(!0)},Q=()=>{I(!1),B(null)},H=()=>{null!==S&&S<b.length-1&&B(S+1)},W=()=>{null!==S&&S>0&&B(S-1)},z=(0,r.QS)({onSwipedLeft:()=>H(),onSwipedRight:()=>W(),preventScrollOnSwipe:!0,trackTouch:!0}),J=(e,a)=>e>a,Z=async()=>{if(null!==S){let e=b[S];try{let a=await fetch(e),t=await a.blob(),n=window.URL.createObjectURL(t),o=document.createElement("a");o.href=n,o.download="image_".concat(S,".jpg"),document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(n)}catch(e){console.error("Erro ao fazer o download da imagem:",e)}}},K=b.slice(0,(w+1)*20);return t?(0,n.jsx)("div",{className:c().loadingContainer,children:(0,n.jsxs)("div",{className:c().spinnerWrapper,children:[(0,n.jsx)("img",{src:h.Z.src,alt:"Sonae Logo",className:c().spinnerLogo}),(0,n.jsx)("div",{className:c().spinner})]})}):(0,n.jsxs)("div",{className:c().background,children:[(0,n.jsxs)("div",{className:c().heroSection,children:[(0,n.jsx)(p.E.img,{src:A.Z.src,alt:"Sonae Logo",className:c().circle1,initial:{opacity:0,rotate:-90},animate:{opacity:1,rotate:0},transition:{duration:1.5,delay:.3}}),(0,n.jsxs)(p.E.div,{className:c().heroContent,initial:{opacity:0,x:-100},animate:{opacity:1,x:0},transition:{duration:1,delay:.5},children:[(0,n.jsx)(p.E.img,{src:h.Z.src,alt:"Sonae Logo",className:c().heroLogo,initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:1,delay:.7}}),(0,n.jsxs)(p.E.div,{className:c().textContainer,initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:1,delay:.9},children:[(0,n.jsx)("p",{className:c().heroSubtitle,children:"Event Photos"}),(0,n.jsx)(p.E.img,{src:"/_next/static/media/risca.7fb35d0a.png",alt:"Sonae Risca",className:c().risca,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:1,delay:1}}),(0,n.jsx)("p",{className:c().eventDate,children:"16 & 17 September"}),(0,n.jsx)(p.E.button,{className:c().downloadAllButton,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:1,delay:1.2},onClick:R,disabled:y,children:y?"A descarregar...":"Descarregar \xe1lbum"})]})]}),(0,n.jsxs)(p.E.div,{className:c().heroImageContainer,initial:{opacity:0,x:100},animate:{opacity:1,x:0},transition:{duration:1,delay:1.2},children:[(0,n.jsx)(p.E.img,{src:"/_next/static/media/BOLAS.bf7993d3.png",alt:"Event Graphic",className:c().heroImage,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:1,delay:1.4}}),(0,n.jsx)(p.E.img,{src:A.Z.src,alt:"Sonae Circle",className:c().circle,initial:{opacity:0,rotate:-180},animate:{opacity:1,rotate:0},transition:{duration:1,delay:1.6}})]})]}),(0,n.jsx)("div",{className:c().gallery,children:K.map((e,a)=>(0,n.jsx)(p.E.div,{className:"".concat(c().galleryItem),initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2*a},onClick:()=>U(a),children:(0,n.jsx)("img",{loading:"lazy",src:e,alt:"Gallery Image ".concat(a),className:c().image,width:"100%",height:"auto",decoding:"async",onLoad:e=>{var a,t;let n=e.currentTarget;J(n.naturalWidth,n.naturalHeight)?null===(a=n.parentElement)||void 0===a||a.classList.add(c().horizontal):null===(t=n.parentElement)||void 0===t||t.classList.add(c().vertical)}})},a))}),(0,n.jsx)("div",{ref:L,className:c().observer}),_&&(0,n.jsx)("div",{className:c().spinner,children:(0,n.jsx)("div",{className:c().loader})}),N&&null!==S&&(0,n.jsxs)("div",{ref:e=>{k.current=e,z.ref(e)},className:c().modal,onClick:Q,children:[(0,n.jsxs)("div",{className:c().modalHeader,children:[(0,n.jsx)("button",{className:c().downloadButton,onClick:Z,children:(0,n.jsxs)("div",{className:c().downloadIconWrapper,children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"white",viewBox:"0 0 24 24",width:"24px",height:"24px",children:(0,n.jsx)("path",{d:"M5 20h14v-2H5v2zm7-18l-5 5h3v6h4v-6h3l-5-5z"})}),(0,n.jsx)("span",{children:"Descarregar"})]})}),(0,n.jsx)("button",{className:c().closeButton,onClick:Q,children:"\xd7"})]}),(0,n.jsxs)("div",{className:c().modalContent,onClick:e=>e.stopPropagation(),children:[(0,n.jsx)("button",{className:c().prevButton,onClick:W,children:"‹"}),(0,n.jsx)("img",{src:b[S],alt:"Preview",className:c().modalImage}),(0,n.jsx)("button",{className:c().nextButton,onClick:H,children:"›"})]})]})]})}},9671:function(e){e.exports={background:"page_background__odxEk",circle:"page_circle__uHZRA",circle1:"page_circle1__LmL9N",risca:"page_risca__K9Jda",heroSection:"page_heroSection___mcj9",heroContent:"page_heroContent__2lPR8",heroLogo:"page_heroLogo__lsLxJ",textContainer:"page_textContainer__g1_WS",heroSubtitle:"page_heroSubtitle__RTAw0",eventDate:"page_eventDate__oy7xx",heroImageContainer:"page_heroImageContainer__BC5je",heroImage:"page_heroImage__Q6NCQ",gallery:"page_gallery__sJw99",galleryItem:"page_galleryItem__GtGSr",horizontal:"page_horizontal__d0S5b",vertical:"page_vertical__7j5iG",image:"page_image__NPJyO",modal:"page_modal__OJIkq",modalContent:"page_modalContent__V7EIS",modalHeader:"page_modalHeader__XTPbu",closeButton:"page_closeButton__fiZmr",downloadButton:"page_downloadButton__A6C4Z",downloadIconWrapper:"page_downloadIconWrapper__LKOQX",prevButton:"page_prevButton__NK8cd",nextButton:"page_nextButton__ACJeB",modalImage:"page_modalImage__IaQmM",spinner:"page_spinner__1WnEQ",loader:"page_loader__g9BIl",spin:"page_spin__W_8_q",observer:"page_observer__W8ur3",splashScreen:"page_splashScreen__uA0AA",loadingLogo:"page_loadingLogo__pcG_s",fadeInOut:"page_fadeInOut__gSnk0",blurredContent:"page_blurredContent__HqeHK",topLogo:"page_topLogo__mmqNT",logoImage:"page_logoImage__eK2JD",fixedTop:"page_fixedTop__R_Lvn",downloadAllButton:"page_downloadAllButton__Y00qj",loadingContainer:"page_loadingContainer__pshup",spinnerWrapper:"page_spinnerWrapper__Fy8ix",spinnerLogo:"page_spinnerLogo__wBoNH"}},4413:function(e,a){"use strict";a.Z={src:"/_next/static/media/Sonae-Logo.e3b43dda.png",height:435,width:1552,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAYAAABllJ3tAAAATUlEQVR4nAFCAL3/Ae7v65HH5wO5x+4D628p+hFUygfwaBr9BzYW/QUUCf4EAXHA8XPY+QEOjyz6CB4O/vYKvAnxxi76Gf8AARvv+QHvWjMgIJaBU60AAAAASUVORK5CYII=",blurWidth:8,blurHeight:2}},7840:function(e,a){"use strict";a.Z={src:"/_next/static/media/circle.b77a0f72.png",height:652,width:650,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAApUlEQVR42mOAgX/bmQ3/7WBJ/LedJeTfDlZNuARU0g+IE4EKfIE4GsguBGIDiOQOoM7tzLH/dnNzwDVsY5T7t50pAyguCtJtD8Q2YImtDIxANgtEI0sJEPuAGKZA1dFgwZ2sTEAFrFBrs4ByAQz/drEJATnpQEW2DFAAlJAA4n6gY1UZoDoVgW6JAyqMA0pEAXEzUDICLImkSxCoQBsoEQjE1jBxABfcVv9lqc2DAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}}},function(e){e.O(0,[967,358,67,814,637,971,23,744],function(){return e(e.s=411)}),_N_E=e.O()}]);